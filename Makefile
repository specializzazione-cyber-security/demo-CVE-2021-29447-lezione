help: ## Show this help.
	@echo "Usage: make [options] [target] ..."; \
	echo "Targets:"; \
	fgrep -h '##' Makefile | awk -F'##|: ' '{printf "%40s %s\n", $$1, $$3}' | fgrep -v 'fgrep';

# Step0. Clean up
clean: ## clean containers, volumes
	docker-compose rm -f -v
	docker-compose rm db -f	
	docker-compose rm wordpress -f
	docker volume rm db_data -f

# Step1. Run WordPress
up-wp: clean ## docker-compose up
	docker-compose up --force-recreate -V
	
# Step2. Run Attacker web server
up-mal: ## attacker website
	php -S 0.0.0.0:8001 -t attacker/www/

# Step3. Generate malicious WAV file
make-wav: ## generate malicious wav file
	cd attacker/malicious_wav && \
	npm install && \
	node index.js && \
	mv malicious.wav ../..

# Step4. Login to WordPress & Upload WAV file to New Media

# Step 5. check on mal www the leaked information